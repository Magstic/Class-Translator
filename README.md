# CLASS Translator

æœ¬å°ˆæ¡ˆå…¨ç¨‹ä½¿ç”¨ Gemini 2.5 Pro ä»¥åŠ Claude Opus 4 é–‹ç™¼ã€‚

## ğŸ¯ é …ç›®æ¦‚è¿°

CLASS Translator æ˜¯ç‚º J2ME è¨­è¨ˆçš„ Class ç¿»è­¯å·¥å…·ã€‚

ä½¿ç”¨ç¾ä»£åŒ–çš„ä¼æ¥­ç´šæ¶æ§‹ï¼Œæ”¯æŒä¾è³´æ³¨å…¥ã€äº‹ä»¶é©…å‹•å’Œé…ç½®é©…å‹•ç­‰é«˜ç´šæ¨¡å¼ï¼Œç‚ºé–‹ç™¼è€…æä¾›äº†é«˜æ•ˆã€ç©©å®šçš„è§£æ±ºæ–¹æ¡ˆã€‚

### ğŸ† ä¸»è¦å„ªå‹¢

- **ğŸ”§ å°ˆæ¥­å·¥å…·**: å°ˆé–€é‡å° Java Class æ–‡ä»¶çš„å­—ç¬¦ä¸²ç·¨è¼¯å„ªåŒ–
- **ğŸ¢ ä¼æ¥­ç´šæ¶æ§‹**: æ¡ç”¨ç¾ä»£è»Ÿé«”æ¶æ§‹æ¨¡å¼ï¼Œæ˜“æ–¼ç¶­è­·å’Œæ“´å±•
- **ğŸš€ é«˜æ•ˆæ€§èƒ½**: å·¥ç¨‹ä¿å­˜å’Œæ‰¹é‡è™•ç†ï¼Œå¤§å¹…æå‡å·¥ä½œæ•ˆç‡

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸŒ ç¿»è­¯ç³»çµ±
- **æ’ä»¶åŒ–æ¶æ§‹**: æ”¯æŒå‹•æ…‹åŠ è¼‰ç¿»è­¯å™¨æ’ä»¶
- **Googleç¿»è­¯æ”¯æŒ**: å†…å»ºè¼•é‡ç´šGoogleç¿»è­¯å¼•æ“
- **ä¸¦ç™¼æ§åˆ¶**: å¯é…ç½®ä¸¦ç™¼ç¿»è­¯è«‹æ±‚æ•¸é‡

### ğŸ“ é …ç›®ç®¡ç†
- **å·¥ç¨‹æ–‡ä»¶**: æ”¯æŒä¿å­˜å’ŒåŠ è¼‰å®Œæ•´çš„ç¿»è­¯é …ç›®(.cepæ ¼å¼)
- **ç‹€æ…‹é¡¯ç¤º**: é¡¯ç¤ºåŠ è¼‰çš„æ–‡ä»¶æ•¸é‡å’Œå­—ç¬¦ä¸²ç¸½æ•¸
- **ç„¡æä¿å­˜**: å·¥ç¨‹æ–‡ä»¶ä¸ä¿®æ”¹åŸå§‹.classæ–‡ä»¶

## ğŸ—ï¸ æ¶æ§‹è¨­è¨ˆ

æœ¬é …ç›®å¯¦ç¾äº†é«˜åº¦çš„æ¨¡å¡ŠåŒ–ã€å¯æ“´å±•æ€§å’Œå¯ç¶­è­·æ€§ï¼š

### æ ¸å¿ƒæ¶æ§‹åœ–

```mermaid
graph TB
    subgraph "ğŸš€ æ‡‰ç”¨å…¥å£"
        A[main.py] --> B[app.py<br/>çµ„åˆæ ¹]
    end
    
    subgraph "ğŸ¢ ä¾è³´æ³¨å…¥å®¹å™¨"
        B --> SC[ServiceContainer<br/>æœå‹™å®¹å™¨]
        SC --> SR[ServiceRegistration<br/>æœå‹™è¨»å†Šå™¨]
        SC --> DR[DependencyResolver<br/>ä¾è³´è§£æå™¨]
        SC --> SL[ServiceLifecycleManager<br/>ç”Ÿå‘½é€±æœŸç®¡ç†å™¨]
    end
    
    subgraph "ğŸ¨ è¡¨ç¾å±¤ (UI Layer)"
        SC -.-> C[MainWindow<br/>ä¸»çª—å£]
        SC -.-> D[EventHandlers<br/>äº‹ä»¶è™•ç†å™¨]
        C --> E[Dialogs<br/>å°è©±æ¡†]
    end
    
    subgraph "âš™ï¸ æ¥­å‹™å±¤ (Service Layer)"
        SC -.-> F[FileService<br/>æ–‡ä»¶æœå‹™]
        SC -.-> G[TranslationService<br/>ç¿»è­¯æœå‹™]
        SC -.-> H[ProjectService<br/>é …ç›®æœå‹™]
        SC -.-> I[HighlightingService<br/>é«˜äº®æœå‹™]
        SC -.-> T[ThemeService<br/>ğŸ¨ ä¸»é¡Œæœå‹™]
    end
    
    subgraph "ğŸ”„ åŸºç¤è¨­æ–½å±¤ (Infrastructure)"
        SC -.-> J[EventSystem<br/>äº‹ä»¶ç³»çµ±]
        SC -.-> K[AppStateManager<br/>ç‹€æ…‹ç®¡ç†]
    end
    
    subgraph "ğŸ“Š æ•¸æ“šå±¤ (Data Layer)"
        F --> M[ClassParser<br/>é¡æ–‡ä»¶è§£æå™¨]
        G --> O[BaseTranslator<br/>ç¿»è­¯å™¨æ’ä»¶]
    end
    
    subgraph "ğŸ“„ é…ç½®é©…å‹•"
        CONFIG[services.json<br/>æœå‹™é…ç½®] --> CDR[ConfigDrivenServiceRegistrar<br/>é…ç½®é©…å‹•è¨»å†Šå™¨]
        CDR --> SC
    end
    
    style B fill:#ff9999,stroke:#333,stroke-width:3px
    style SC fill:#ff6666,stroke:#333,stroke-width:4px
    style SR fill:#ffaaaa,stroke:#333,stroke-width:2px
    style DR fill:#ffaaaa,stroke:#333,stroke-width:2px
    style SL fill:#ffaaaa,stroke:#333,stroke-width:2px
    style C fill:#99ccff,stroke:#333,stroke-width:2px
    style D fill:#99ccff,stroke:#333,stroke-width:2px
    style F fill:#99ff99,stroke:#333,stroke-width:2px
    style G fill:#99ff99,stroke:#333,stroke-width:2px
    style H fill:#99ff99,stroke:#333,stroke-width:2px
    style I fill:#99ff99,stroke:#333,stroke-width:2px
    style T fill:#ff99ff,stroke:#333,stroke-width:2px
    style J fill:#ffcc99,stroke:#333,stroke-width:2px
    style K fill:#ffcc99,stroke:#333,stroke-width:2px
    style CDR fill:#ccccff,stroke:#333,stroke-width:2px
```

### ä¾è³´æ³¨å…¥ç³»çµ±

é …ç›®é€é **æœå‹™å®¹å™¨** ç®¡ç†æ‰€æœ‰æœå‹™çš„ç”Ÿå‘½é€±æœŸå’Œä¾è³´é—œä¿‚ã€‚

#### å®¹å™¨æ¶æ§‹å„ªå‹¢
- è§£è€¦åˆï¼š`app.py` ä¸ç›´æ¥å‰µå»ºæœå‹™ï¼Œè€Œæ˜¯é€šéå®¹å™¨ç®¡ç†
- å¯é…ç½®ï¼šé€šé `services.json` é…ç½®æ–‡ä»¶å‹•æ…‹è¨»å†Šæœå‹™
- å¯æ¸¬è©¦ï¼šå®¹æ˜“æ›¿æ›æœå‹™å¯¦ç¾é€²è¡Œå–®å…ƒæ¸¬è©¦
- å¯æ“´å±•ï¼šæ–°å¢æœå‹™ä¸éœ€ä¿®æ”¹ä¸»æ‡‰ç”¨é¡

#### æ ¸å¿ƒçµ„ä»¶
- ServiceContainerï¼šæœå‹™å®¹å™¨æ ¸å¿ƒï¼Œç®¡ç†æ‰€æœ‰æœå‹™å¯¦ä¾‹
- ServiceRegistrationï¼šæœå‹™è¨»å†Šå™¨ï¼Œå®šç¾©æœå‹™ä¾è³´é—œä¿‚
- DependencyResolverï¼šä¾è³´è§£æå™¨ï¼Œè‡ªå‹•æ³¨å…¥ä¾è³´
- ServiceLifecycleManagerï¼šç”Ÿå‘½é€±æœŸç®¡ç†å™¨ï¼Œæ”¯æŒå–®ä¾‹/ç¬æ™‚ç¯„åœ
- ConfigDrivenServiceRegistrarï¼šé…ç½®é©…å‹•è¨»å†Šå™¨ï¼Œæ”¯æŒJSONé…ç½®å®Œæ•´çš„æœå‹™å‰µå»ºã€åˆå§‹åŒ–å’ŒéŠ·æ¯€ç®¡ç†

### ğŸ“ ç›®éŒ„çµæ§‹

```
CLASSç·¨è¼¯å™¨/
â”œâ”€â”€ main.py                    # ğŸš€ æ‡‰ç”¨ç¨‹åºå…¥å£
â”œâ”€â”€ app.py                     # ğŸ¢ ä¸»æ‡‰ç”¨é¡ï¼ˆä¾è³´æ³¨å…¥å®¹å™¨ï¼‰
â”œâ”€â”€ config.json                # âš™ï¸ æ‡‰ç”¨é…ç½®æ–‡ä»¶
â”œâ”€â”€ config/
â”‚   â””â”€â”€ services.json          # ğŸ”§ æœå‹™é…ç½®æ–‡ä»¶
â”œâ”€â”€ core/                      # ğŸ—ï¸ æ ¸å¿ƒæ¨¡å¡Š
â”‚   â”œâ”€â”€ container/             # ğŸ“¦ ä¾è³´æ³¨å…¥å®¹å™¨
â”‚   â”‚   â”œâ”€â”€ service_container.py      # æœå‹™å®¹å™¨æ ¸å¿ƒ
â”‚   â”‚   â”œâ”€â”€ dependency_resolver.py    # ä¾è³´è§£æå™¨
â”‚   â”‚   â”œâ”€â”€ service_lifecycle.py     # ç”Ÿå‘½é€±æœŸç®¡ç†
â”‚   â”‚   â”œâ”€â”€ service_config.py        # é…ç½®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ config_driven_registrar.py # é…ç½®é©…å‹•è¨»å†Š
â”‚   â”‚   â””â”€â”€ service_registration.py  # æœå‹™è¨»å†Š
â”‚   â”œâ”€â”€ services/              # âš™ï¸ æ¥­å‹™æœå‹™
â”‚   â”‚   â”œâ”€â”€ file_service.py           # æ–‡ä»¶è™•ç†æœå‹™
â”‚   â”‚   â”œâ”€â”€ translation_service.py   # ç¿»è­¯æœå‹™
â”‚   â”‚   â”œâ”€â”€ project_service.py       # é …ç›®ç®¡ç†æœå‹™
â”‚   â”‚   â”œâ”€â”€ theme_service.py          # ğŸ¨ ä¸»é¡Œæœå‹™
â”‚   â”‚   â””â”€â”€ highlighting_service.py  # èªæ³•é«˜äº®æœå‹™
â”‚   â”œâ”€â”€ commands/              # ğŸ¯ å‘½ä»¤æ¨¡å¼
â”‚   â”‚   â”œâ”€â”€ command_interface.py     # å‘½ä»¤æ¥å£
â”‚   â”‚   â”œâ”€â”€ command_invoker.py       # å‘½ä»¤èª¿ç”¨å™¨
â”‚   â”‚   â””â”€â”€ ui_commands.py           # UIå‘½ä»¤å¯¦ç¾
â”‚   â”œâ”€â”€ events/                # ğŸ“¡ äº‹ä»¶ç³»çµ±
â”‚   â”‚   â”œâ”€â”€ event_system.py         # äº‹ä»¶ç³»çµ±æ ¸å¿ƒ
â”‚   â”‚   â””â”€â”€ ui_events.py            # UIäº‹ä»¶å®šç¾©
â”‚   â”œâ”€â”€ state/                 # ğŸ“Š ç‹€æ…‹ç®¡ç†
â”‚   â”‚   â””â”€â”€ app_state_manager.py     # æ‡‰ç”¨ç‹€æ…‹ç®¡ç†å™¨
â”‚   â””â”€â”€ models/                # ğŸ“‹ æ•¸æ“šæ¨¡å‹
â”‚       â””â”€â”€ string_entry.py          # å­—ç¬¦ä¸²æ¢ç›®æ¨¡å‹
â”œâ”€â”€ ui/                        # ğŸ–¥ï¸ ç”¨æˆ¶ç•Œé¢
â”‚   â”œâ”€â”€ main_window.py               # ä¸»çª—å£ï¼ˆçµ„ä»¶åŒ–é‡æ§‹ï¼‰
â”‚   â”œâ”€â”€ event_handlers.py            # äº‹ä»¶è™•ç†å™¨å”èª¿å™¨
â”‚   â”œâ”€â”€ components/            # ğŸ§© UIçµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ editor_view.py           # ç·¨è¼¯å™¨è¦–åœ–çµ„ä»¶
â”‚   â”‚   â””â”€â”€ file_tabs_view.py        # æ–‡ä»¶æ¨™ç±¤é çµ„ä»¶
â”‚   â”œâ”€â”€ handlers/              # ğŸ® äº‹ä»¶è™•ç†å™¨
â”‚   â”‚   â”œâ”€â”€ event_handler_coordinator.py # è™•ç†å™¨å”èª¿å™¨
â”‚   â”‚   â”œâ”€â”€ ui_event_handlers.py     # UIäº‹ä»¶è™•ç†å™¨
â”‚   â”‚   â”œâ”€â”€ file_handlers.py         # æ–‡ä»¶è™•ç†å™¨
â”‚   â”‚   â”œâ”€â”€ translation_handlers.py # ç¿»è­¯è™•ç†å™¨
â”‚   â”‚   â”œâ”€â”€ project_handlers.py      # é …ç›®è™•ç†å™¨
â”‚   â”‚   â””â”€â”€ theme_handlers.py        # ğŸ¨ ä¸»é¡Œè™•ç†å™¨
â”‚   â”œâ”€â”€ find_dialog.py               # æŸ¥æ‰¾å°è©±æ¡†
â”‚   â”œâ”€â”€ find_replace_dialog.py       # æŸ¥æ‰¾æ›¿æ›å°è©±æ¡†
â”‚   â”œâ”€â”€ settings_dialog.py           # è¨­ç½®å°è©±æ¡†
â”‚   â””â”€â”€ interfaces/            # ğŸ”Œ UIæ¥å£å®šç¾©
â”‚       â””â”€â”€ imain_window.py          # ä¸»çª—å£æ¥å£
â”œâ”€â”€ parsers/                   # ğŸ“– æ–‡ä»¶è§£æå™¨
â”‚   â”œâ”€â”€ base_parser.py               # è§£æå™¨åŸºé¡
â”‚   â”œâ”€â”€ class_parser.py              # .classæ–‡ä»¶è§£æå™¨
â”‚   â”œâ”€â”€ jar_parser.py                # .jaræ–‡ä»¶è§£æå™¨
â”‚   â”œâ”€â”€ text_parser.py               # æ–‡æœ¬æ–‡ä»¶è§£æå™¨
â”‚   â””â”€â”€ parser_factory.py            # è§£æå™¨å·¥å» 
â”œâ”€â”€ translators/               # ğŸŒ ç¿»è­¯å™¨æ’ä»¶
â”‚   â”œâ”€â”€ base_translator.py           # ç¿»è­¯å™¨åŸºé¡
â”‚   â””â”€â”€ light_google_translator.py   # Googleç¿»è­¯æ’ä»¶
â”œâ”€â”€ Azure-ttk-theme-main/      # ğŸ¨ ä¸»é¡Œè³‡æº
â”‚   â””â”€â”€ azure.tcl                    # Azureä¸»é¡Œå®šç¾©
â””â”€â”€ build.py                   # ğŸ”¨ æ§‹å»ºè…³æœ¬
```

### åŸºæœ¬ä½¿ç”¨

1. **ğŸ“‚ æ‰“é–‹æ–‡ä»¶**: é»æ“Šã€Œæ‰“é–‹ç›®éŒ„ã€é¸æ“‡åŒ…å«.classæ–‡ä»¶çš„ç›®éŒ„
2. **ğŸ“ ç·¨è¼¯ç¿»è­¯**: åœ¨å·¦å´æ¨¹ç‹€è¦–åœ–ä¸­é¸æ“‡è¦ç·¨è¼¯çš„å­—ç¬¦ä¸²æ¢ç›®
3. **ğŸŒ è‡ªå‹•ç¿»è­¯**: ä½¿ç”¨ã€Œæ‰¹é‡ç¿»è­¯ã€åŠŸèƒ½è‡ªå‹•ç¿»è­¯æ‰€æœ‰æ¢ç›®
4. **ğŸ’¾ ä¿å­˜ä¿®æ”¹**: é»æ“Šã€Œæ‡‰ç”¨æ›´æ”¹ã€ä¿å­˜ä¿®æ”¹åˆ°æ–‡ä»¶
5. **ğŸ“‹ é …ç›®ç®¡ç†**: ä½¿ç”¨ã€Œä¿å­˜å·¥ç¨‹ã€åŠŸèƒ½ä¿å­˜ç•¶å‰å·¥ä½œç‹€æ…‹

## ğŸ”§ æ ¸å¿ƒæ¶æ§‹è©³è§£

### ğŸ—ï¸ ä¾è³´æ³¨å…¥å®¹å™¨ç³»çµ±

#### `ServiceContainer`
- **æ ¸å¿ƒåŠŸèƒ½**: ä¼æ¥­ç´šä¾è³´æ³¨å…¥å®¹å™¨ï¼Œæ”¯æŒå¤šç¨®ç”Ÿå‘½é€±æœŸç®¡ç†
- **ç”Ÿå‘½é€±æœŸé¡å‹**:
  - `SINGLETON`: å–®ä¾‹æ¨¡å¼ï¼Œå…¨å±€å”¯ä¸€å¯¦ä¾‹
  - `TRANSIENT`: ç¬æ…‹æ¨¡å¼ï¼Œæ¯æ¬¡è«‹æ±‚å‰µå»ºæ–°å¯¦ä¾‹
  - `INSTANCE`: å¯¦ä¾‹æ¨¡å¼ï¼Œé è¨»å†Šçš„å…·é«”å¯¦ä¾‹
- **è‡ªå‹•ä¾è³´è§£æ**: åŸºæ–¼é¡å‹æç¤ºçš„æ§‹é€ å‡½æ•¸æ³¨å…¥
- **å¾ªç’°ä¾è³´æª¢æ¸¬**: é˜²æ­¢æœå‹™é–“çš„å¾ªç’°ä¾è³´å•é¡Œ

#### `DependencyResolver`
- **æ™ºèƒ½è§£æ**: è‡ªå‹•åˆ†ææ§‹é€ å‡½æ•¸åƒæ•¸ä¸¦è§£æä¾è³´
- **ä¾è³´åœ–ç”Ÿæˆ**: å¯è¦–åŒ–æœå‹™é–“çš„ä¾è³´é—œä¿‚
- **é©—è­‰æ©Ÿåˆ¶**: æ‰¹é‡é©—è­‰æ‰€æœ‰æœå‹™ä¾è³´çš„æ­£ç¢ºæ€§

#### `ServiceLifecycleManager`
- **ç‹€æ…‹è·Ÿè¹¤**: ç®¡ç†æœå‹™çš„å®Œæ•´ç”Ÿå‘½é€±æœŸç‹€æ…‹
- **äº‹ä»¶è™•ç†**: å‰µå»ºã€åˆå§‹åŒ–ã€éŠ·æ¯€äº‹ä»¶çš„çµ±ä¸€è™•ç†
- **è³‡æºç®¡ç†**: ç¢ºä¿æœå‹™æ­£ç¢ºå‰µå»ºå’Œå®‰å…¨éŠ·æ¯€

### ğŸ”§ é…ç½®é©…å‹•æ¶æ§‹

#### `ConfigDrivenServiceRegistrar`
- **JSONé…ç½®**: é€šé`config/services.json`å®šç¾©æœå‹™è¨»å†Š
- **éˆæ´»è¨»å†Š**: æ”¯æŒé¡å‹ã€ä¾è³´ã€åƒæ•¸ã€ç”Ÿå‘½é€±æœŸçš„å®Œæ•´é…ç½®
- **å‹•æ…‹åŠ è¼‰**: é‹è¡Œæ™‚æ ¹æ“šé…ç½®å‹•æ…‹å‰µå»ºæœå‹™å¯¦ä¾‹

#### é…ç½®æ–‡ä»¶çµæ§‹
```json
{
  "services": [
    {
      "name": "FileService",
      "implementation": "core.services.file_service.FileService",
      "scope": "singleton",
      "dependencies": [],
      "parameters": {},
      "tags": ["core", "file"]
    }
  ]
}
```

### ğŸ¯ äº‹ä»¶é©…å‹•æ¶æ§‹

#### `EventSystem`
- **ç™¼å¸ƒ/è¨‚é–±æ¨¡å¼**: è§£è€¦UIå’Œæ¥­å‹™é‚è¼¯çš„é€šä¿¡
- **ç·šç¨‹å®‰å…¨**: æ”¯æŒå¤šç·šç¨‹ç’°å¢ƒä¸‹çš„äº‹ä»¶è™•ç†
- **äº‹ä»¶éæ¿¾**: åŸºæ–¼äº‹ä»¶é¡å‹çš„æ™ºèƒ½è·¯ç”±

#### `CommandPattern`
- **çµ±ä¸€æ¥å£**: æ‰€æœ‰ç”¨æˆ¶æ“ä½œå¯¦ç¾`ICommand`æ¥å£
- **å¯æ’¤éŠ·æ“ä½œ**: æ”¯æŒæ“ä½œçš„æ’¤éŠ·å’Œé‡åš
- **æ‰¹é‡åŸ·è¡Œ**: æ”¯æŒå‘½ä»¤çš„æ‰¹é‡åŸ·è¡Œå’Œäº‹å‹™è™•ç†

### ğŸ“Š ç‹€æ…‹ç®¡ç†ç³»çµ±

#### `AppStateManager`
- **é›†ä¸­ç‹€æ…‹**: çµ±ä¸€ç®¡ç†æ‡‰ç”¨çš„æ‰€æœ‰ç‹€æ…‹æ•¸æ“š
- **è§€å¯Ÿè€…æ¨¡å¼**: ç‹€æ…‹è®ŠåŒ–çš„è‡ªå‹•é€šçŸ¥æ©Ÿåˆ¶
- **ç‹€æ…‹æŒä¹…åŒ–**: æ”¯æŒç‹€æ…‹çš„ä¿å­˜å’Œæ¢å¾©

### ğŸ¨ ä¸»é¡Œç³»çµ±æ¶æ§‹

#### `ThemeService`
- **ä¸»é¡Œç®¡ç†**: æ”¯æŒæ˜æš—å…©ç¨®ä¸»é¡Œæ¨¡å¼
- **Azure TTK é›†æˆ**: ä½¿ç”¨ Azure-ttk-theme æä¾›ç¾ä»£åŒ– UI æ¨£å¼
- **é-TTK æ§ä»¶æ”¯æŒ**: æ‰‹å‹•ç®¡ç†æ¨™æº– Tkinter æ§ä»¶çš„ä¸»é¡Œè‰²å½©
- **äº‹ä»¶é©…å‹•**: é€šé `ThemeChangedEvent` é€šçŸ¥ UI çµ„ä»¶æ›´æ–°

#### ä¸»é¡Œé…ç½®
```python
# æ·ºè‰²ä¸»é¡Œ
"light": {
    "Text": {"background": "#FFFFFF", "foreground": "#000000"},
    "Highlight": {"background": "#E8F4FD", "foreground": "#1F5582"}
}

# æ·±è‰²ä¸»é¡Œ  
"dark": {
    "Text": {"background": "#2E2E2E", "foreground": "#FFFFFF"},
    "Highlight": {"background": "#3D5A80", "foreground": "#E0E6ED"}
}
```

#### ä¸»é¡Œåˆ‡æ›æµç¨‹
1. **ç”¨æˆ¶é»æ“Š**: é ‚éƒ¨èœå–®æ¬„çš„â€œğŸ¨ ä¸»é¡Œâ€æŒ‰éˆ•
2. **æœå‹™èª¿ç”¨**: `ThemeService.apply_theme()` æ–¹æ³•
3. **TTK æ›´æ–°**: è‡ªå‹•æ‡‰ç”¨ Azure ä¸»é¡Œæ¨£å¼
4. **äº‹ä»¶ç™¼å¸ƒ**: ç™¼å¸ƒ `ThemeChangedEvent` äº‹ä»¶
5. **UI æ›´æ–°**: æ‰€æœ‰è¨‚é–±è€…æ›´æ–°é-TTK æ§ä»¶é¡è‰²

### ğŸ”Œ æ’ä»¶åŒ–æ¶æ§‹

#### ç¿»è­¯å™¨æ’ä»¶
- **æŠ½è±¡åŸºé¡**: `BaseTranslator`å®šç¾©çµ±ä¸€æ¥å£
- **å‹•æ…‹ç™¼ç¾**: è‡ªå‹•ç™¼ç¾å’ŒåŠ è¼‰ç¿»è­¯å™¨æ’ä»¶
- **å¤šå¼•æ“æ”¯æŒ**: åŒæ™‚æ”¯æŒå¤šç¨®ç¿»è­¯æœå‹™

#### è§£æå™¨æ’ä»¶
- **å¯æ“´å±•æ€§**: æ”¯æŒæ–°æ–‡ä»¶æ ¼å¼çš„è§£æå™¨
- **çµ±ä¸€æ¥å£**: æ¨™æº–åŒ–çš„æ–‡ä»¶è§£ææµç¨‹

### ğŸ§ª æ¸¬è©¦é©…å‹•é–‹ç™¼

#### æ¸¬è©¦è¦†è“‹
- **å–®å…ƒæ¸¬è©¦**: æ¯å€‹æ ¸å¿ƒçµ„ä»¶éƒ½æœ‰å°æ‡‰æ¸¬è©¦
- **é›†æˆæ¸¬è©¦**: é©—è­‰çµ„ä»¶é–“çš„å”ä½œ
- **é…ç½®æ¸¬è©¦**: é©—è­‰é…ç½®é©…å‹•çš„æ­£ç¢ºæ€§

#### æ¸¬è©¦æ–‡ä»¶
- `test_service_container.py`: æœå‹™å®¹å™¨åŠŸèƒ½æ¸¬è©¦
- `test_enhanced_dependencies.py`: ä¾è³´ç®¡ç†æ¸¬è©¦
- `test_config_driven.py`: é…ç½®é©…å‹•æ¸¬è©¦
  - `_on_highlight_toggle()`: éŸ¿æ‡‰é«˜äº®å¾©é¸æ¡†çš„é»æ“Šäº‹ä»¶ï¼Œèª¿ç”¨ `HighlightingService` æ›´æ–°ç‹€æ…‹ï¼Œä¸¦è§¸ç™¼UIåˆ·æ–°ã€‚
  - `_update_highlights()`: æ ¸å¿ƒé«˜äº®æ›´æ–°å‡½æ•¸ï¼Œåœ¨æ–‡æœ¬è®Šæ›´æˆ–æ¢ç›®é¸æ“‡æ™‚è¢«èª¿ç”¨ï¼Œå”èª¿ `HighlightingService` å’Œ `MainWindow` å®Œæˆé«˜äº®æ“ä½œã€‚

---

## ğŸ“– ä½¿ç”¨æŒ‡å—

### ğŸ¯ åŸºæœ¬å·¥ä½œæµç¨‹

#### 1. ğŸ“‚ åŠ è¼‰æ–‡ä»¶
```
æ–‡ä»¶ â†’ æ‰“é–‹ç›®éŒ„ â†’ é¸æ“‡åŒ…å«.classæ–‡ä»¶çš„ç›®éŒ„
```
- ç³»çµ±æœƒè‡ªå‹•æƒæä¸¦åŠ è¼‰æ‰€æœ‰.classæ–‡ä»¶
- å·¦å´æ¨¹ç‹€è¦–åœ–é¡¯ç¤ºæ‰€æœ‰å¯ç¿»è­¯çš„å­—ç¬¦ä¸²æ¢ç›®
- ç‹€æ…‹æ¬„é¡¯ç¤ºåŠ è¼‰çš„æ–‡ä»¶æ•¸é‡å’Œå­—ç¬¦ä¸²ç¸½æ•¸

#### 2. âœï¸ ç·¨è¼¯ç¿»è­¯
- **å–®å€‹ç·¨è¼¯**: é»æ“Šå·¦å´æ¢ç›®ï¼Œåœ¨å³å´ã€Œè­¯æ–‡ã€æ¡†ä¸­ç·¨è¼¯
- **æ‰¹é‡é¸æ“‡**: ä½¿ç”¨ `Ctrl+Click` æˆ– `Shift+Click` é¸æ“‡å¤šå€‹æ¢ç›®
- **è‡ªå‹•ç¿»è­¯**: é»æ“Šã€Œæ‰¹é‡ç¿»è­¯ã€ä½¿ç”¨AIç¿»è­¯å¼•æ“
- **å¯¦æ™‚é©—è­‰**: ç³»çµ±æœƒè‡ªå‹•æª¢æ¸¬ä¸¦é«˜äº®éEUC-KRå­—ç¬¦

#### 3. ğŸ’¾ ä¿å­˜å·¥ä½œ
- **ä¿å­˜å·¥ç¨‹**: æ¨è–¦å…ˆä¿å­˜ç‚º.cepå·¥ç¨‹æ–‡ä»¶ï¼ˆç„¡æä¿å­˜ï¼‰
- **æ‡‰ç”¨æ›´æ”¹**: å°‡ç¿»è­¯æ‡‰ç”¨åˆ°åŸå§‹.classæ–‡ä»¶
- **è‡ªå‹•å‚™ä»½**: ç³»çµ±æœƒè‡ªå‹•å‰µå»º.bakå‚™ä»½æ–‡ä»¶

### ğŸ”§ é«˜ç´šåŠŸèƒ½

#### ğŸ” æŸ¥æ‰¾å’Œæ›¿æ›
```
ç·¨è¼¯ â†’ æŸ¥æ‰¾
ç·¨è¼¯ â†’ æŸ¥æ‰¾æ›¿æ›
```
- æ”¯æŒåœ¨åŸæ–‡å’Œè­¯æ–‡ä¸­æœç´¢
- æ‰¹é‡æ›¿æ›åŠŸèƒ½
- å€åˆ†å¤§å°å¯«é¸é …

#### âš™ï¸ ç¿»è­¯è¨­ç½®
```
å·¥å…· â†’ ç¿»è­¯è¨­ç½®
```
- é…ç½®ç¿»è­¯å¼•æ“ï¼ˆç›®å‰æ”¯æŒGoogle Translateï¼‰
- è¨­ç½®ä¸¦ç™¼ç¿»è­¯æ•¸é‡
- è¨­ç½®ç¿»è­¯åƒæ•¸

#### ğŸ¨ ä¸»é¡Œåˆ‡æ›
```
é ‚éƒ¨èœå–®æ¬„ â†’ ğŸ¨ ä¸»é¡Œ
```
- **ä¸€éµåˆ‡æ›**: ç›´æ¥é»æ“Šå³å¯åœ¨æ˜æš—ä¸»é¡Œé–“åˆ‡æ›
- **å¯¦æ™‚ç”Ÿæ•ˆ**: ä¸»é¡Œè®Šæ›´ç«‹å³æ‡‰ç”¨ï¼Œç„¡éœ€é‡å•Ÿ
- **æ™ºèƒ½é©é…**: æ–‡æœ¬æ¡†å’Œé«˜äº®é¡è‰²è‡ªå‹•èª¿æ•´
- **è­·çœ¼è¨­è¨ˆ**: ç²¾å¿ƒèª¿æ•´çš„é…è‰²æ–¹æ¡ˆï¼Œæ¸›å°‘çœ¼éƒ¨ç–²å‹

#### ğŸ” é«˜ç´šåŠŸèƒ½
```
è¦–åœ– â†’ é«˜äº®è¨­ç½®
```
- å•Ÿç”¨/ç¦ç”¨å­—ç¬¦ç·¨ç¢¼é«˜äº®
- è‡ªå®šç¾©é«˜äº®é¡è‰²
- èª¿æ•´å­—é«”å¤§å°

### ğŸ“‹ å·¥ç¨‹æ–‡ä»¶ç®¡ç†

#### å‰µå»ºå·¥ç¨‹
1. åŠ è¼‰.classæ–‡ä»¶
2. `å·¥ç¨‹ â†’ ä¿å­˜å·¥ç¨‹` å‰µå»º.cepæ–‡ä»¶
3. é¸æ“‡ä¿å­˜ä½ç½®å’Œæ–‡ä»¶å

#### åŠ è¼‰å·¥ç¨‹
1. `å·¥ç¨‹ â†’ åŠ è¼‰å·¥ç¨‹` é¸æ“‡.cepæ–‡ä»¶
2. ç³»çµ±è‡ªå‹•æ¢å¾©ç¿»è­¯é€²åº¦
3. ç¹¼çºŒç·¨è¼¯æˆ–æ‡‰ç”¨æ›´æ”¹

#### å·¥ç¨‹æ–‡ä»¶å„ªå‹¢
- âœ… **ç„¡æä¿å­˜**: ä¸ä¿®æ”¹åŸå§‹æ–‡ä»¶
- âœ… **é€²åº¦è·Ÿè¹¤**: è¨˜éŒ„ç¿»è­¯ç‹€æ…‹
- âœ… **åœ˜éšŠå”ä½œ**: å¯å…±äº«å·¥ç¨‹æ–‡ä»¶
- âœ… **ç‰ˆæœ¬æ§åˆ¶**: æ”¯æŒGitç­‰ç‰ˆæœ¬æ§åˆ¶

---

## ğŸ—ï¸ é–‹ç™¼æŒ‡å—

### æ§‹å»ºå¯åŸ·è¡Œæ–‡ä»¶

```bash
# å®‰è£æ§‹å»ºä¾è³´
pip install pyinstaller

# é‹è¡Œæ§‹å»ºè…³æœ¬
python build.py

# å¯åŸ·è¡Œæ–‡ä»¶ä½æ–¼ dist/ ç›®éŒ„
```

### é‹è¡Œæ¸¬è©¦

```bash
# é‹è¡Œæ‰€æœ‰æ¸¬è©¦
python -m pytest tests/

# é‹è¡Œç‰¹å®šæ¸¬è©¦
python test_service_container.py
python test_enhanced_dependencies.py
python test_config_driven.py
```

### æ·»åŠ æ–°ç¿»è­¯å™¨

1. åœ¨ `translators/` ç›®éŒ„å‰µå»ºæ–°æ–‡ä»¶
2. ç¹¼æ‰¿ `BaseTranslator` é¡
3. å¯¦ç¾ `translate()` æ–¹æ³•
4. ç³»çµ±æœƒè‡ªå‹•ç™¼ç¾ä¸¦åŠ è¼‰

```python
from translators.base_translator import BaseTranslator

class MyTranslator(BaseTranslator):
    def translate(self, text: str) -> str:
        # å¯¦ç¾ç¿»è­¯é‚è¼¯
        return translated_text
```

### æ“´å±•æ–‡ä»¶æ ¼å¼æ”¯æŒ

1. åœ¨ `parsers/` ç›®éŒ„å‰µå»ºæ–°è§£æå™¨
2. å¯¦ç¾æ–‡ä»¶è§£æå’Œä¿å­˜é‚è¼¯
3. åœ¨æœå‹™é…ç½®ä¸­è¨»å†Šæ–°è§£æå™¨

---

## ğŸ“„ è¨±å¯è­‰

æœ¬é …ç›®æ¡ç”¨ MIT è¨±å¯è­‰ã€‚è©³è¦‹ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

---

## ğŸ™ è‡´è¬

- [Azure-ttk-theme-main](https://github.com/rdbende/Azure-ttk-theme) çš„ Theme æ”¯æ´
- Gemini 2.5 Pro çš„å®è§€é æ™¯ï¼Œä»¥åŠ Claude Opus 4 çš„ç´°ç·»å…¥å¾®